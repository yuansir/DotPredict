# DotPredict - 点阵预测游戏

一个基于 React + TypeScript 的交互式预测游戏，玩家通过放置红色和黑色的点，系统会根据历史序列和规则预测下一个点的颜色。

## 功能特点

- 序列预测：基于历史数据分析预测下一个点的颜色
- 规则预测：支持 75% 规则和序列匹配两种预测模式
- 实时统计：显示预测准确率和匹配次数
- 游戏控制：支持撤销、重做和清空操作
- 数据同步：使用 Supabase 进行游戏数据的云端存储
- 响应式设计：适配各种屏幕尺寸的设备
- 优雅动画：流畅的交互和反馈动效

## 技术栈

- React 18：用于构建用户界面
- TypeScript：提供类型安全
- Tailwind CSS：实现响应式设计
- Framer Motion：实现流畅动画效果
- Supabase：提供数据存储服务
- Vite：现代化构建工具
- Headless UI：无样式 UI 组件库

## 开始使用

### 环境要求
- Node.js >= 18.0.0
- npm >= 7.0.0

### 本地开发

1. 克隆项目
```bash
git clone [your-repository-url]
cd DotPredict
```

2. 环境配置
```bash
# 复制环境变量配置文件
cp .env.example .env

# 编辑 .env 文件，填入你的 Supabase 配置
VITE_SUPABASE_URL=your-supabase-url
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key
```

3. 安装依赖
```bash
npm install
```

4. 启动开发服务器
```bash
npm run dev
```

5. 构建项目
```bash
npm run build
```

## 游戏规则

### 1. 基础 75% 规则预测

这是一个基于固定概率的预测规则，分析最近的两个点的颜色来预测下一个点：

#### 连续相同颜色规则
- 当出现连续两个黑色点时，下一个点有 75% 的概率是红色
  ```
  黑 -> 黑 -> [红色 75%]
  ```
- 当出现连续两个红色点时，下一个点有 75% 的概率是黑色
  ```
  红 -> 红 -> [黑色 75%]
  ```

#### 交替颜色规则
- 当出现黑色后接红色时，下一个点有 75% 的概率是黑色
  ```
  黑 -> 红 -> [黑色 75%]
  ```
- 当出现红色后接黑色时，下一个点有 75% 的概率是红色
  ```
  红 -> 黑 -> [红色 75%]
  ```

### 2. 序列预测分析

这是一个基于历史数据的智能预测系统，通过分析历史序列模式来预测下一个点的颜色。

#### 工作原理
1. **序列长度**：用户可以设置要分析的序列长度（默认为 5）
2. **模式匹配**：系统在历史数据中寻找与当前序列相同的模式
3. **统计分析**：统计匹配序列后出现的颜色频率
4. **预测结果**：根据统计结果预测最可能出现的颜色

#### 示例
假设序列长度设置为 4，当前输入序列为：
```
红 -> 黑 -> 红 -> 黑 -> [等待预测]
```

系统会在历史数据中查找相同序列：
```
历史序列 1: 红 -> 黑 -> 红 -> 黑 -> [红]
历史序列 2: 红 -> 黑 -> 红 -> 黑 -> [黑]
历史序列 3: 红 -> 黑 -> 红 -> 黑 -> [红]
历史序列 4: 红 -> 黑 -> 红 -> 黑 -> [黑]
历史序列 5: 红 -> 黑 -> 红 -> 黑 -> [黑]
```

预测结果：
- 找到 5 个匹配序列
- 其中红色出现 2 次，黑色出现 3 次
- 预测下一个点是黑色，置信度为 60%（3/5）

### 3. 连续模式预测

这是一个更高级的预测模式，结合了基础规则和序列分析：

1. **短期预测**：使用 75% 规则进行即时预测
2. **中期预测**：分析最近 3-5 个点的序列模式
3. **长期预测**：分析更长的历史序列（5-10 个点）

#### 示例
当玩家输入以下序列时：
```
红 -> 红 -> 黑 -> 红 -> 黑 -> 黑 -> [等待预测]
```

系统会同时考虑：
1. 75% 规则：最后两个点是黑色，预测下一个是红色（75%）
2. 序列分析：在历史数据中查找类似模式
3. 综合分析：结合两种预测的结果，给出最终预测

## 主要功能模块

### 1. 游戏面板
- 8x8 的点阵网格
- 支持点击放置红/黑色点
- 显示预测位置和颜色提示

### 2. 控制面板
- 颜色选择器
- 撤销/重做按钮
- 清空按钮
- 序列长度配置
- 预测模式切换

### 3. 预测显示
- 当前预测的颜色
- 预测的置信度
- 匹配的历史序列数量

## 数据存储

- 使用 Supabase 进行游戏数据的云端存储
- 支持多设备数据同步
- 自动保存游戏进度

## 贡献指南

1. Fork 本项目
2. 创建你的特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交你的改动 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 提交 Pull Request

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情
